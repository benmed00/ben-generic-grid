!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("ng2-smart-table"),require("@nebular/theme"),require("@angular/router"),require("@angular/cdk/drag-drop"),require("@angular/common/http"),require("rxjs/operators"),require("rxjs"),require("@ng-bootstrap/ng-bootstrap"),require("@angular/common"),require("@angular/forms"),require("ng2-completer"),require("@angular/material")):"function"==typeof define&&define.amd?define("generic-components-dxc",["exports","@angular/core","ng2-smart-table","@nebular/theme","@angular/router","@angular/cdk/drag-drop","@angular/common/http","rxjs/operators","rxjs","@ng-bootstrap/ng-bootstrap","@angular/common","@angular/forms","ng2-completer","@angular/material"],t):t((e=e||self)["generic-components-dxc"]={},e.ng.core,e.ng2SmartTable,e.theme,e.ng.router,e.ng.cdk["drag-drop"],e.ng.common.http,e.rxjs.operators,e.rxjs,e.ngBootstrap,e.ng.common,e.ng.forms,e.ng2Completer,e.ng.material)}(this,function(e,t,r,n,a,o,i,s,l,c,m,u,d,p){"use strict";var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function g(e,t,r,n){var a,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,r,i):a(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function b(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)i.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(a)throw a.error}}return i}function y(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}var N,v=function(){function e(){}return e=g([t.Component({selector:"app-tables",template:"<router-outlet></router-outlet>"})],e)}(),O=function(){return function(){}}(),k=function(e){function r(t){var r=e.call(this)||this;return r._http=t,r.activeTabs=!1,r._url="assets/utils/config_table.json",r._url0="assets/utils/vinci_data.json",r._url1="assets/utils/settings.ts",r._url2="https://raw.githubusercontent.com/benmed00/vinci-settings/master/vinci_settings.json",r._url3="http://localhost:3000",r._url4="http://192.168.8.35:9097/api/ui",r._url5="http://192.168.8.38:9097/api/ui",r._url6="http://vcgp-irs.francecentral.cloudapp.azure.com/rest-provider",r.apiUrl="https://github.dxc.com/mbenyakoub/Generique-DataGrid/blob/master/src/assets/utils",r}return function(e,t){function r(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(r,e),r.prototype.updateActiveTab=function(e){this.activeTabs=!0},r.prototype.getActivetab=function(){return this.activeTabs},r.prototype.getData=function(){return w},r.prototype.getdata=function(){return this._http.get(this._url3+"/data")},r.prototype.getSettingsFromNodeBckend=function(){return this._http.get("http://localhost:3000/settings")},r.prototype.getDataFromBackend=function(){return console.log(" Get Data Service "),this._http.get(this._url0)},r.prototype.editDataFromBackend=function(e){return this._http.post(this._url0,e)},r.prototype.deleteDataFromBackend=function(){},r.prototype.addDataFromBackend=function(){},r.prototype.getSettings=function(){return C},r.prototype.updateColumns=function(e){console.log(" ==> UPDATE COLUMNS ==> "),C.columns=e},r.prototype.savePreferences=function(){},r.prototype.getSetting=function(){},r.prototype.getVinciSetting=function(){return console.log(" getVinciSetting() : "),this._http.get(this._url3+"/settings").pipe(s.catchError(this.handleError))},r.prototype.editVinciSetting=function(e){},r.prototype.updatePreferences=function(e){console.log(" Update preference service: ");var t=new i.HttpHeaders;return t.append("Content-Type","application/json").append("accept","*/*"),this._http.put(this._url6+"/api/ui/preference/savePreference",e,{headers:t}).subscribe({next:function(e){console.log("after preference update: ",e)},error:function(e){e.error instanceof Error?console.log("Client-side error occured : ",e):console.log("Server-side error occured : ",e)}})},r.prototype.updatePreferencesObject=function(e){console.log(" Service => Update preferences Object : ");var t=new i.HttpHeaders;return t.append("Content-Type","application/json").append("accept","*/*"),this._http.put(this._url6+"/api/ui/preference/savePreference",e,{headers:t}).subscribe({next:function(e){console.log("after preference update: ",e)},error:function(e){e.error instanceof Error?console.log("Client-side error occured : ",e):console.log("Server-side error occured : ",e)}})},r.prototype.getActiveTab=function(e){return e},r.prototype.getSettingsBackend=function(e,t,r){console.log(" Get Settings from Backend: ");var n=new i.HttpHeaders;return n.append("accept","*/*"),this._http.get(this._url5+"/getSetting/"+e+"/"+t+"/"+r,{headers:n}).subscribe({next:function(e){console.log("after getting Settings: ",e)},error:function(e){e.error instanceof Error?console.log("Client-side error occured."):console.log("Server-side error occured.")}})},r.prototype.getSettingsFromGitHub=function(){return this._http.get(this.apiUrl+"/settings.ts").pipe(s.catchError(this.handleError))},r.prototype.updateData=function(){return S},r.prototype.updateSettings=function(e){return this._http.post("http://localhost:3000",e).subscribe({next:function(e){console.log("data retourned from the backend : ",e)},error:this.handleError})},r.prototype.etSetting=function(){var e;return this._http.get(this._url2).subscribe(function(t){e=t}),e},r.prototype.handleError=function(e){return e.error instanceof ErrorEvent?console.error("An error occurred:",e.error.message):console.error("Backend returned code "+e.status+", body was: "+e.error),l.throwError("Something bad happened; please try again later.")},r.ngInjectableDef=t.defineInjectable({factory:function(){return new r(t.inject(i.HttpClient))},token:r,providedIn:"root"}),r=g([t.Injectable({providedIn:"root"}),b("design:paramtypes",[i.HttpClient])],r)}(O);(N=e.PreferencesType||(e.PreferencesType={}))[N.PREF_ORDER=0]="PREF_ORDER",N[N.PREF_SORT=1]="PREF_SORT",N[N.PREF_FILTER=2]="PREF_FILTER",N[N.PREF_VISIBILITY=3]="PREF_VISIBILITY";var w=[{id:123456,nom:"LIMOURI",prenom:"Anouar",societe:"VGCP",fonctionOfficielle:"Architecte IT",affectation:"Métro d air",periodeAffectation:"26/04/2019 - 31/12/2019",fonctionOperationnelle:"Architecte appliquer",statut:"Actif"},{id:234567,nom:"DUPONT",prenom:"François",societe:"VGCP",fonctionOfficielle:"Chef de projet",affectation:"T3C",periodeAffectation:"27/04/2019 - 31/12/2019",fonctionOperationnelle:"Chef de projet",statut:"Inactif"},{id:829077,nom:"GARNIEF",prenom:"Laurent",societe:"DCB",fonctionOfficielle:"Maçon",affectation:"Affectation",periodeAffectation:"28/04/2019 - 31/12/2019",fonctionOperationnelle:"Chef de chantier",statut:"A compléter"},{id:766789,nom:"GAR",prenom:"Laure",societe:"Eeiffage",fonctionOfficielle:"Peintre",affectation:"Métro du Caire",periodeAffectation:"29/04/2019 - 31/12/2019",fonctionOperationnelle:"Chef d'équipe",statut:"Disponible"},{id:345678,nom:"CHAOUC",prenom:"Mohammed",societe:"DXC",fonctionOfficielle:"jconsultant SIRH",affectation:"Métro de Copenhague ligne 4",periodeAffectation:"30/04/2019 - 31/12/2019",fonctionOperationnelle:"PPO",statut:"Indisponible"},{id:456789,nom:"DUBO",prenom:"Meidy",societe:"VINCI",fonctionOfficielle:"Maçon",affectation:"Métro de Copenhague ligne 4",periodeAffectation:"01/04/2019 - 31/09/2019",fonctionOperationnelle:"Fonction opérationnel",statut:"Sorti"},{id:567890,nom:"BENYAKOUB",prenom:"Med",societe:"DXC Technologie",fonctionOfficielle:"Peintre",affectation:"Aeroport international Arturo Merino Benitez",periodeAffectation:"26/04/2019 - 31/09/2019",fonctionOperationnelle:"Couvreur",statut:"Sorti"},{id:111111,nom:"LEBHAR",prenom:"Naoufal",societe:"DCB",fonctionOfficielle:"Architecte",affectation:"Pont de L'Atlantique",periodeAffectation:"26/04/2019 - 01/12/2019",fonctionOperationnelle:"Electicien",statut:"Archivé"},{id:666666,nom:"TALAL",prenom:"Mohssine",societe:"DXC",fonctionOfficielle:"Directeur de projet",affectation:"Station d'épuration de Bruxelles sud",periodeAffectation:"26/06/2019 - 31/12/2019",fonctionOperationnelle:"Conducteur de trvail",statut:"Actif"},{id:101112,nom:"ABARGHAZ",prenom:"Eiffage",societe:"@karen",fonctionOfficielle:"Consultante",affectation:"Métro de Doha ligne rouge sud",periodeAffectation:"26/04/2019 - 31/12/2019",fonctionOperationnelle:"Maçon",statut:"Disponible"}],C={columns:{id:{title:"ID VINCI",editable:"false",addable:"false",type:"number",display:"false",hideHeader:"true",order:0,filter:!0},nom:{title:"Nom",type:"string",filter:!0,notShownField:"false",order:1,display:"true"},prenom:{title:"Prénom",type:"html",order:2,filter:!0,display:"false"},societe:{title:"Société",type:"string",order:3,filter:!0,display:"true"},fonctionOfficielle:{title:"Fonction officiel",type:"html",filter:!0,editor:{type:"text",value:"<input  type='email'>"},order:4,display:"true"},affectation:{title:"Affectation",type:"html",editor:{type:"list",config:{selectText:"Select...",list:[{value:"jacob",title:"jacob"},{value:"hcglwjlwcgwwcgwcwj",title:"hcglwjlwcgwwcgwcwj"},{value:"Yassin",title:"Yassin"},{value:"Yass",title:"Yass"},{value:"Ann",title:"Ann"},{value:"TOTO",title:"TOTO"},{value:"Med",title:"Med"},{value:"BEn",title:"BEn"},{value:"mohammed benyakoub",title:"mohammed benyakoub"},{value:"SELLAMI",title:"SELLAMI"},{value:"talaL",title:"talaL"},{value:"<b>Samantha</b>",title:"Samantha"}]}},order:5,filter:!0,display:"true"},periodeAffectation:{title:"Période d'affectation",filter:!1,order:6,display:"true"},fonctionOperationnelle:{title:"Fonction opérationnel",editable:"false",order:7,filter:!1},statut:{title:"Statut",editable:"true",filter:!1,order:8,display:"true"}}},S=[{id:1,firstName:"Mark",lastName:"OTTOO",username:'<a href="https://github.com/akveo/ng2-admin">Ng2 Admin</a>',email:"mdo@gmail.com",age:"28",passed:"Yes"},{id:2,firstName:"Jacob",lastName:"Thornton",username:'<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/73/DXC_Tech.png/280px-DXC_Tech.png" alt="Smiley face" height="42" idth="42">',email:"fat@yandex.ru",age:"45",passed:"Yes"},{id:3,firstName:"Larry",lastName:"Bird",username:"@twitter",email:"twitter@outlook.com",age:"18",passed:"Yes"},{id:4,firstName:"John",lastName:"Snow",username:"@snow",email:"snow@gmail.com",age:"20",passed:"Yes"},{id:5,firstName:"Jack",lastName:"Sparrow",username:"@jack",email:"jack@yandex.ru",age:"30",passed:"No"},{id:6,firstName:"Ann",lastName:"Smith",username:"@ann",email:"ann@gmail.com",age:"21",passed:"No"},{id:7,firstName:"Barbara",lastName:"Black",username:"@barbara",email:"barbara@yandex.ru",age:"43",passed:"No"},{id:8,firstName:"Sevan",lastName:"Bagrat",username:"@sevan",email:"sevan@outlook.com",age:"13",passed:"No"},{id:9,firstName:"Ruben",lastName:"Vardan",username:"@ruben",email:"ruben@gmail.com",age:"22",passed:"No"},{id:10,firstName:"Karen",lastName:"Sevan",username:"@karen",email:"karen@yandex.ru",age:"33",passed:"No"},{id:11,firstName:"Mark",lastName:"Otto",username:"@mark",email:"mark@gmail.com",age:"38"},{id:12,firstName:"Jacob",lastName:"Thornton",username:"@jacob",email:"jacob@yandex.ru",age:"48",passed:"No"},{id:13,firstName:"Haik",lastName:"Hakob",username:"@haik",email:"haik@outlook.com",age:"48"},{id:14,firstName:"Garegin",lastName:"Jirair",username:"@garegin",email:"garegin@gmail.com",age:"40"},{id:15,firstName:"Krikor",lastName:"Bedros",username:"@krikor",email:"krikor@yandex.ru",age:"32"},{id:16,firstName:"Francisca",lastName:"Brady",username:"@Gibson",email:"franciscagibson@comtours.com",age:11},{id:17,firstName:"Tillman",lastName:"Figueroa",username:"@Snow",email:"tillmansnow@comtours.com",age:34},{id:18,firstName:"Jimenez",lastName:"Morris",username:"@Bryant",email:"jimenezbryant@comtours.com",age:45},{id:19,firstName:"Sandoval",lastName:"Jacobson",username:"@Mcbride",email:"sandovalmcbride@comtours.com",age:32},{id:20,firstName:"Griffin",lastName:"Torres",username:"@Charles",email:"griffincharles@comtours.com",age:19},{id:21,firstName:"Cora",lastName:"Parker",username:"@Caldwell",email:"coracaldwell@comtours.com",age:27},{id:22,firstName:"Cindy",lastName:"Bond",username:"@Velez",email:"cindyvelez@comtours.com",age:24},{id:23,firstName:"Frieda",lastName:"Tyson",username:"@Craig",email:"friedacraig@comtours.com",age:45},{id:24,firstName:"Cote",lastName:"Holcomb",username:"@Rowe",email:"coterowe@comtours.com",age:20},{id:25,firstName:"Trujillo",lastName:"Mejia",username:"@Valenzuela",email:"trujillovalenzuela@comtours.com",age:16},{id:26,firstName:"Pruitt",lastName:"Shepard",username:"@Sloan",email:"pruittsloan@comtours.com",age:44},{id:27,firstName:"Sutton",lastName:"Ortega",username:"@Black",email:"suttonblack@comtours.com",age:42},{id:28,firstName:"Marion",lastName:"Heath",username:"@Espinoza",email:"marionespinoza@comtours.com",age:47},{id:29,firstName:"Newman",lastName:"Hicks",username:"@Keith",email:"newmankeith@comtours.com",age:15},{id:30,firstName:"Boyle",lastName:"Larson",username:"@Summers",email:"boylesummers@comtours.com",age:32},{id:31,firstName:"Haynes",lastName:"Vinson",username:"@Mckenzie",email:"haynesmckenzie@comtours.com",age:15},{id:32,firstName:"Miller",lastName:"Acosta",username:"@Young",email:"milleryoung@comtours.com",age:55},{id:33,firstName:"Johnston",lastName:"Brown",username:"@Knight",email:"johnstonknight@comtours.com",age:29},{id:34,firstName:"Lena",lastName:"Pitts",username:"@Forbes",email:"lenaforbes@comtours.com",age:25},{id:35,firstName:"Terrie",lastName:"Kennedy",username:"@Branch",email:"terriebranch@comtours.com",age:37},{id:36,firstName:"Louise",lastName:"Aguirre",username:"@Kirby",email:"louisekirby@comtours.com",age:44},{id:37,firstName:"David",lastName:"Patton",username:"@Sanders",email:"davidsanders@comtours.com",age:26},{id:38,firstName:"Holden",lastName:"Barlow",username:"@Mckinney",email:"holdenmckinney@comtours.com",age:11},{id:39,firstName:"Baker",lastName:"Rivera",username:"@Montoya",email:"bakermontoya@comtours.com",age:47},{id:40,firstName:"Belinda",lastName:"Lloyd",username:"@Calderon",email:"belindacalderon@comtours.com",age:21},{id:41,firstName:"Pearson",lastName:"Patrick",username:"@Clements",email:"pearsonclements@comtours.com",age:42},{id:42,firstName:"Alyce",lastName:"Mckee",username:"@Daugherty",email:"alycedaugherty@comtours.com",age:55},{id:43,firstName:"Valencia",lastName:"Spence",username:"@Olsen",email:"valenciaolsen@comtours.com",age:20},{id:44,firstName:"Leach",lastName:"Holcomb",username:"@Humphrey",email:"leachhumphrey@comtours.com",age:28},{id:45,firstName:"Moss",lastName:"Baxter",username:"@Fitzpatrick",email:"mossfitzpatrick@comtours.com",age:51},{id:46,firstName:"Jeanne",lastName:"Cooke",username:"@Ward",email:"jeanneward@comtours.com",age:59},{id:47,firstName:"Wilma",lastName:"Briggs",username:"@Kidd",email:"wilmakidd@comtours.com",age:53},{id:48,firstName:"Beatrice",lastName:"Perry",username:"@Gilbert",email:"beatricegilbert@comtours.com",age:39},{id:49,firstName:"Whitaker",lastName:"Hyde",username:"@Mcdonald",email:"whitakermcdonald@comtours.com",age:35},{id:50,firstName:"Rebekah",lastName:"Duran",username:"@Gross",email:"rebekahgross@comtours.com",age:40},{id:51,firstName:"Earline",lastName:"Mayer",username:"@Woodward",email:"earlinewoodward@comtours.com",age:52},{id:52,firstName:"Moran",lastName:"Baxter",username:"@Johns",email:"moranjohns@comtours.com",age:20},{id:53,firstName:"Nanette",lastName:"Hubbard",username:"@Cooke",email:"nanettecooke@comtours.com",age:55},{id:54,firstName:"Dalton",lastName:"Walker",username:"@Hendricks",email:"daltonhendricks@comtours.com",age:25},{id:55,firstName:"Bennett",lastName:"Blake",username:"@Pena",email:"bennettpena@comtours.com",age:13},{id:56,firstName:"Kellie",lastName:"Horton",username:"@Weiss",email:"kellieweiss@comtours.com",age:48},{id:57,firstName:"Hobbs",lastName:"Talley",username:"@Sanford",email:"hobbssanford@comtours.com",age:28},{id:58,firstName:"Mcguire",lastName:"Donaldson",username:"@Roman",email:"mcguireroman@comtours.com",age:38},{id:59,firstName:"Rodriquez",lastName:"Saunders",username:"@Harper",email:"rodriquezharper@comtours.com",age:20},{id:60,firstName:"Lou",lastName:"Conner",username:"@Sanchez",email:"lousanchez@comtours.com",age:16}],x=function(){function e(e,n,a,o,i){this.service=e,this.componentFactoryResolver=n,this.windowService=o,this.router=i,this.titlesArray=[],this.columnsArrayOfObjects=[],this.disable=!1,this.searchLabels=[],this.selectedItem2=[],this.panelOpenState=!1,this.idCollaborateur=new t.EventEmitter,this.source=new r.LocalDataSource}return e.prototype.ngOnInit=function(){var e=this;this.source=new r.LocalDataSource,this.data=this.datafromServer,this.source.load(this.data),this.settingsOrigine=this.config,this.settingsOrigine&&(this.source.setSort([{field:"id",direction:"asc"}]),this.columnnToDisplay=Object.keys(this.settingsOrigine.columns).filter(function(t){return"false"!==e.settingsOrigine.columns[t].display}).reduce(function(t,r){return t[r]=e.settingsOrigine.columns[r],t},{}),this.settings=Object.assign({},this.settingsOrigine,{columns:this.columnnToDisplay}),this.columns=Object.assign({},this.settingsOrigine.columns),this.selectedItem=Object.keys(this.columnnToDisplay),this.titlesArray=Array.from(Object.keys(this.settings.columns),function(t){return e.settings.columns[t].title}),this.selectedItem.forEach(function(t){e.columnsArrayOfObjects.push({key:t,title:e.settingsOrigine.columns[t].title})})),this.settingsOrigine&&this.appliquerLesFiltres(),this.source.onChanged().subscribe(function(t){for(var r=0;r<t.filter.filters.length;r++)e.searchLabels[r]=t.filter.filters[r].field+":"+t.filter.filters[r].search;e.searchLabels,Array.from(Object.keys(t.filter.filters),function(e){return[t.filter.filters[e].search,t.filter.filters[e].field]})})},e.prototype.ngAfterViewInit=function(){},e.prototype.selectColomns=function(e){var t=this,r=Object.keys(this.columns).filter(function(t){return!(e||[]).includes(t)}),n=Object.keys(this.columns).filter(function(t){return(e||[]).includes(t)}).reduce(function(e,r){return e[r]=t.columns[r],e},{});this.selectedItem=e;var a=[];this.selectedItem.forEach(function(e,r){a.splice(r,0,{key:e,title:t.columns[e].title})}),this.columnsArrayOfObjects=a,this.settings=Object.assign({},this.settings,{columns:n}),r.forEach(function(e){t.settingsOrigine.columns[e].display="false"}),e.forEach(function(e){t.settingsOrigine.columns[e].display="true"});this.selectedItem;this.service.updateSettings(this.settingsOrigine)},e.prototype.hideColomnId=function(){this.settings.columns.id.title="iddddd",this.newSettings=this.settings,this.settings=Object.assign({},this.newSettings),console.log("APPEL FUNCTION hideColumnId() ")},e.prototype.ngOnChanges=function(e){},e.prototype.appliquerLesFiltres=function(){var e=this,t=this.columnsArrayOfObjects.map(function(t){return{field:t.key,search:e.settingsOrigine.columns[t.key].filterData?e.settingsOrigine.columns[t.key].filterData:""}});this.source.setFilter(t,!1)},e.prototype.onSearch=function(e){void 0===e&&(e=""),console.log("-- OnSerch function --");var t=this.columnsArrayOfObjects.map(function(t){return{field:t.key,search:e}});this.source.setFilter(t,!1)},e.prototype.onDeleteConfirm=function(e){window.confirm("Are you sure you want to delete?")?e.confirm.resolve():e.confirm.reject()},e.prototype.onSaveConfirm=function(e){window.confirm("Are you sure you want to save?")?(e.newData.name+=" + added in code",e.confirm.resolve(e.newData)):e.confirm.reject()},e.prototype.sourieSurLigne=function(e){},e.prototype.onCreateConfirm=function(e){window.confirm("Are you sure you want to create?")?(e.newData.name+=" + added in code",e.confirm.resolve(e.newData)):e.confirm.reject()},e.prototype.savePreferences=function(){console.log(" Filtre & Sort : ",this.source.getFilteredAndSorted());var e={idTable:1,idUser:1,roleUser:"rh",preferences:[{preferenceType:"PREF_VISIBILITY",values:this.selectedItem},{preferenceType:"PREF_ORDER",values:this.selectedItem2},{preferenceType:"PREF_FILTER",values:this.searchLabels},{preferenceType:"PREF_SORT",values:this.searchLabels}]};this.service.updatePreferencesObject(e),alert(" Vos prefereces En été sauvegarder ")},e.prototype.drop=function(e){var t=this;o.moveItemInArray(this.columnsArrayOfObjects,e.previousIndex,e.currentIndex);var r=[],n=this.columnsArrayOfObjects.reduce(function(e,n){return r.unshift(n.key),e[n.key]=t.columns[n.key],e},{});this.settings=Object.assign({},this.settings,{columns:n}),this.selectedItem2=Object.keys(n);this.selectedItem2},e.prototype.onCustomAction=function(e){console.log("EVENT : ",e),"view"===e.action?this.windowService.open(this.contentTemplate,{title:"Mini CV VCGP",context:{text:"some text to pass into template",dateDeNaissance:""+e.data.dateDeNaissance,paysDeNaissance:""+e.data.paysDeNaissance,genre:""+e.data.genre,fonctionOfficiel:""+e.data.fonctionOfficiel,numeroDeTelephoneParDefaut:""+e.data.numeroDeTelephoneParDefaut,typeDeContrat:""+e.data.typeDeContrat,adresseEmailParDefaut:""+e.data.adresseEmailParDefaut,societeDAppartenance:""+e.data.societeDAppartenance,handicap:""+e.data.handicap,nomPersonneEnCasDurgence:""+e.data.nomPersonneEnCasDurgence}}):this.idCollaborateur.emit(e.data.idVinci)},e.prototype.ngOnDestroy=function(){console.log("settings : "+JSON.stringify(this.settings))},g([t.Input(),b("design:type",Object)],e.prototype,"config",void 0),g([t.Input(),b("design:type",Array)],e.prototype,"datafromServer",void 0),g([t.ViewChild("ng2smart"),b("design:type",Object)],e.prototype,"ng2smart",void 0),g([t.Output(),b("design:type",Object)],e.prototype,"idCollaborateur",void 0),g([t.ViewChild("contentTemplate"),b("design:type",t.TemplateRef)],e.prototype,"contentTemplate",void 0),e=g([t.Component({selector:"generic-datagrid",template:'<nb-card>\r\n\r\n  <nb-card-header>\r\n\r\n    \x3c!-- <nb-card>\r\n      <h1> Generic Data-Grid <br></h1>\r\n    </nb-card>\r\n\r\n   {{ settingsOrigine | json }}\r\n\r\n    <nb-card>\r\n      <div class="search-input">\r\n\r\n        <button nbButton status="success">EXCEL</button>\r\n        <button nbButton status="danger">PDF</button>\r\n\r\n      </div>\r\n    </nb-card> --\x3e\r\n\r\n    <button nbButton shape="semi-round" status="info" (click)="savePreferences()">Sauvegarder Preferences</button>\r\n\r\n    <div class="vc-accordion">\r\n\r\n      <nb-accordion multi>\r\n        <nb-accordion-item>\r\n          <nb-accordion-item-header>\r\n            Mes Preferences\r\n          </nb-accordion-item-header>\r\n          <nb-accordion-item-body>\r\n\r\n            <nb-card>\r\n              <nb-card-header>Selection Colonnes</nb-card-header>\r\n              <nb-card-body>\r\n                <nb-select\r\n                  cdkDropList\r\n                  multiple\r\n                  placeholder="Multiple Select"\r\n                  class="columns-selection"\r\n                  (selectedChange)="selectColomns($event)"\r\n                  [(selected)]="selectedItem "\r\n                  shape="round"\r\n                  size="small"\r\n                  >\r\n                  <nb-select-label>\r\n                    Selectioner les colonnes à afficher\r\n                  </nb-select-label>\r\n                  <nb-option *ngFor="let col of columns | keyvalue" value="{{col.key}}" [disabled]="selectedItem.length > 8 && !selectedItem.includes(col.key)">\r\n                    {{col.value.title}}\r\n                  </nb-option>\r\n                  \x3c!-- <nb-option *ngFor="let col of columnsArrayOfObje cts" value="{{col.key}}">\r\n                    {{col.title}}\r\n                  </nb-option> --\x3e\r\n                </nb-select>\r\n              </nb-card-body>\r\n            </nb-card>\r\n\r\n            <nb-card>\r\n              <nb-card-header>Trie des colonnes</nb-card-header>\r\n              <nb-card-body>\r\n                <div cdkDropList cdkDropListOrientation="horizontal" class="example-list"\r\n                  (cdkDropListDropped)="drop($event)">\r\n                  <div class="example-box" *ngFor="let item of columnsArrayOfObjects" cdkDrag>{{item.title}}</div>\r\n                </div>\r\n              </nb-card-body>\r\n            </nb-card>\r\n\r\n          </nb-accordion-item-body>\r\n        </nb-accordion-item>\r\n\r\n        \x3c!-- <nb-accordion-item>\r\n              <nb-accordion-item-header>\r\n                Trie des colonnes\r\n              </nb-accordion-item-header>\r\n              <nb-accordion-item-body>\r\n                <div cdkDropList cdkDropListOrientation="horizontal" class="example-list"\r\n                  (cdkDropListDropped)="drop($event)">\r\n                  <div class="example-box" *ngFor="let item of columnsArrayOfObjects" cdkDrag>{{item.title}}</div>\r\n                </div>\r\n              </nb-accordion-item-body>\r\n            </nb-accordion-item> --\x3e\r\n\r\n      </nb-accordion>\r\n\r\n    </div>\r\n\r\n    \x3c!-- <button nbButton outline status="primary" (click)="hideColomnId()">iddd</button> --\x3e\r\n    \x3c!-- <button nbButton outline status="primary" (click)="appliquerLesFiltres()">appliquer Les Filtres</button> --\x3e\r\n  </nb-card-header>\r\n\r\n  <nb-card-body>\r\n\r\n    <nb-card>\r\n      \x3c!-- <input type="text" nbInput fieldSize="large" #search class="search" placeholder="Search..."\r\n        (keydown.enter)="onSearch(search.value)"> --\x3e\r\n    </nb-card>\r\n    \x3c!-- <mat-slide-toggle>Slide me!</mat-slide-toggle> --\x3e\r\n    \x3c!-- <ngx-switcher></ngx-switcher> --\x3e\r\n    \x3c!-- <ngx-switcher\r\n      [firstValue]="RTL"\r\n      [secondValue]="LTR"\r\n      [firstValueLabel]="\'RTL\'"\r\n      [secondValueLabel]="\'LTR\'"\r\n      [vertical]="false"\r\n    >\r\n    </ngx-switcher> --\x3e\r\n    <ng-template #contentTemplate let-data>\r\n\r\n      <h3> {{ columns.dateDeNaissance.title }} :  {{ data.dateDeNaissance || \'--\' }}</h3>\r\n\r\n       <p> Née le {{ data.dateDeNaissance }} à {{ data.paysDeNaissance  }}</p>\r\n\r\n      <label> {{ columns.genre.title }} :                                       </label><strong> {{ data.genre || "--" }} </strong>\r\n      <br><br>\r\n      <label> fonction officielle  {{ columns.fonctionOfficiel.title }}  :       </label><strong> {{ data.fonctionOfficiel }} </strong>\r\n      <br><br>\r\n      <label> Type de contrat {{ columns.typeDeContrat.title }}  :               </label><strong> {{ data.typeDeContrat }} </strong>\r\n      <br><br>\r\n      <label> Tél par défault {{ columns.numeroDeTelephoneParDefaut.title }}  :   </label><strong> {{ data.numeroDeTelephoneParDefaut }} </strong>\r\n      <br><br>\r\n      <label> Email par défault {{ columns.adresseEmailParDefaut.title }}  :      </label><strong> {{ data.adresseEmailParDefaut }} </strong>\r\n      <br><br>\r\n      <label> Société de  d\'appartenace {{ columns.societeDAppartenance.title }}  :</label><strong> {{ data.societeDAppartenance }} </strong>\r\n      <br><br>\r\n      <label> Handicap {{ columns.handicap.title }}   :                           </label><strong> {{ data.handicap }}</strong>\r\n      <br><br>\r\n      \x3c!-- <label> Contactd\'urgence {{ columns.nomPersonneEnCasDurgence.title }}      </label><strong> {{ data.nomPersonneEnCasDurgence }} </strong> --\x3e\r\n      <label> Contactd\'urgence  :  </label><strong> {{ data.nomPersonneEnCasDurgence }} </strong>\r\n      <br><br>\r\n\r\n    </ng-template>\r\n\r\n\r\n    <ng2-smart-table [(settings)]="settings" [source]="source" (deleteConfirm)="onDeleteConfirm($event)"\r\n      (editConfirm)="onSaveConfirm($event)" (createConfirm)="onCreateConfirm($event)"\r\n      (rowHover)="sourieSurLigne($event)" (custom)="onCustomAction($event)" (userRowSelect)="onCustomAction($event)">\r\n    </ng2-smart-table>\r\n\r\n  </nb-card-body>\r\n\r\n</nb-card>\r\n',styles:["nb-card{-webkit-transform:translate3d(0,0,0);transform:translate3d(0,0,0)}.search-input{width:100%;display:block;margin-bottom:1rem;margin-right:1rem}.columns-selection{float:center;display:block;width:90%;margin-bottom:1%}.vc-accordion{width:100%;height:auto;clear:both}button{margin:1rem}.example-list{width:100%;max-width:100%;border:1px solid #ccc;min-height:60px;display:flex;flex-direction:row;background:#fff;border-radius:4px;overflow:hidden}.example-box{padding:20px 10px;border-right:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:center;box-sizing:border-box;cursor:move;background:#fff;font-size:14px;flex-grow:1;flex-basis:0}.cdk-drag-preview{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.cdk-drag-placeholder{opacity:0}.cdk-drag-animating{transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1)}.example-box:last-child{border:none}.example-list.cdk-drop-list-dragging .example-box:not(.cdk-drag-placeholder){transition:transform 250ms cubic-bezier(0,0,.2,1);transition:transform 250ms cubic-bezier(0,0,.2,1),-webkit-transform 250ms cubic-bezier(0,0,.2,1)}"]}),b("design:paramtypes",[k,t.ComponentFactoryResolver,i.HttpClient,n.NbWindowService,a.Router])],e)}(),D=[{path:"",component:x,children:[{path:"smart-table",component:x}]}],T=function(){function e(){}return e=g([t.NgModule({imports:[a.RouterModule.forChild(D)],exports:[a.RouterModule]})],e)}(),j=[v,x],A=function(){function e(){}return e.prototype.ngOnInit=function(){this.renderValue=this.value.toString().toUpperCase()},g([t.Input(),b("design:type",Object)],e.prototype,"value",void 0),g([t.Input(),b("design:type",Object)],e.prototype,"rowData",void 0),e=g([t.Component({template:"\n    {{renderValue}}\n  "})],e)}(),E=function(){function e(){}return e=g([t.NgModule({imports:[m.CommonModule,u.FormsModule,T,o.DragDropModule,i.HttpClientModule,p.MatExpansionModule,p.MatFormFieldModule,p.MatInputModule,p.MatSelectModule,n.NbCardModule,d.Ng2CompleterModule,r.Ng2SmartTableModule,n.NbCardModule,n.NbButtonModule,n.NbThemeModule,n.NbLayoutModule,n.NbCardModule,n.NbButtonModule,c.NgbModule,n.NbLayoutModule,n.NbSelectModule,n.NbCheckboxModule,n.NbAccordionModule],providers:[k],declarations:y(j,[A]),entryComponents:[A],exports:[x]})],e)}();e.CONFIG_OBJECT_VINCI=C,e.CONFIG_SETTINGS={add:{addButtonContent:"<i class='nb-plus'></i>",createButtonContent:"<i class='nb-checkmark'></i>",cancelButtonContent:"<i class='nb-close'></i>",confirmCreate:"true"},edit:{editButtonContent:"<i class='nb-edit'></i>",saveButtonContent:"<i class='nb-checkmark'></i>",cancelButtonContent:"<i class='nb-close'></i>",confirmSave:"true"},"delete":{deleteButtonContent:"<i class='nb-trash'></i>",confirmDelete:"true"},selectMode:"multi",columns:{id:{title:"ID",editable:"false",addable:"false",type:"number",notShownField:"true",hideHeader:"true",order:0},firstName:{title:"First Name",type:"string",filter:{type:"list",config:{selectText:"Select...",list:[{value:"jacob",title:"jacob"},{value:"hcglwjlwcgwwcgwcwj",title:"hcglwjlwcgwwcgwcwj"},{value:"Med",title:"Med"}]}},notShownField:"false",order:1},username:{title:"Username",type:"html",order:2},lastName:{title:"Last Name",type:"string",order:3},email:{title:"E-mail",type:"html",filter:{type:"completer",config:{completer:{data:"this.source",searchFields:"completer",titleField:"email"}}},editor:{type:"text",value:"<input  type='email'>"},order:4},age:{title:"Date",type:"html",editor:{type:"list",config:{selectText:"Select...",list:[{value:"jacob",title:"jacob"},{value:"hcglwjlwcgwwcgwcwj",title:"hcglwjlwcgwwcgwcwj"},{value:"Yassin",title:"Yassin"},{value:"Yass",title:"Yass"},{value:"Ann",title:"Ann"},{value:"TOTO",title:"TOTO"},{value:"Med",title:"Med"},{value:"BEn",title:"BEn"},{value:"mohammed benyakoub",title:"mohammed benyakoub"},{value:"SELLAMI",title:"SELLAMI"},{value:"talaL",title:"talaL"},{value:"<b>Samantha</b>",title:"Samantha"}]}},order:5},passed:{title:"Passed",filter:{type:"checkbox",config:{"true":"Yes","false":"No",resetText:"clear"}},order:6}}},e.DATA_Grid=w,e.DATA_Table=S,e.PREFERENCE_OBJECT={idPreference:0,idTable:0,idUser:0,roleUser:"rh",value:[{preferenceType:"PREF_SORT",value:["nom-clonne","ASC|DSC"]},{preferenceType:"PREF_FILTER",value:["nom-clonne-1:filter-value-1","nom-clonne-2:filter-value-2"]},{preferenceType:"PREF_ORDER",value:["nom","prenom"]},{preferenceType:"PREF_VISIBILITY",value:["nom"]}]},e.SmartTableComponent=x,e.SmartTableData=O,e.SmartTableService=k,e.TablesModule=E,e.ɵa=T,e.ɵb=j,e.ɵc=v,e.ɵd=A,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=generic-components-dxc.umd.min.js.map